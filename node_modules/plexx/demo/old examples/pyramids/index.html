<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>PLEXX.JS Example: Pyramids</title>
</head>

<body>

<h1>PLEXX.JS Example: Pyramids</h1>

<div class="plexx" id="pyramids" style="height:50em; width:50em; border:solid 0.1em #000000;"></div>

<nav id="pyramids-debug-panel"></nav>

<script type="text/javascript" src="../../../framework/build/plexx.js"></script>

<script>
var myCanvas = new Plexx.DrawingArea({
    width: 1024,
    height: 720,
    align: "xMidYMid",
    background: "#CCCCCC"
});
var renderContext = new Plexx.RenderContext({id: "pyramids", width: 1000, height: 1000});


var NUMBER_OF_STEPS = 30;
var STONE_HEIGHT = 10;
var STONE_WIDTH = 30;

var x = 0;
var x_diff = 0;
var y = 0;

for (i = 0; i < NUMBER_OF_STEPS; i++) {
  y = i * (STONE_HEIGHT + 2);
  for (j = 0; j <= NUMBER_OF_STEPS - i ; j++) {
      x = j * (STONE_WIDTH + 2) + x_diff;
      var rectangle = new Plexx.Rectangle({width: STONE_WIDTH, height: STONE_HEIGHT, position: [x, y], colour:"red"});
      rectangle.on("mousein", function (e) {
          e.setColour("blue");
      });
      myCanvas.add(rectangle);
  }
  x_diff += (STONE_WIDTH + 2) / 2;
}

var debugPanel = new Plexx.DebugHelper("pyramids-debug-panel", renderContext, myCanvas);

myCanvas.run(renderContext);
</script>

</body>
</html>
