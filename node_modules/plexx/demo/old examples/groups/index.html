<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>PLEXX.JS EXAMPLE: groups</title>
</head>

<body>

<h1>PLEXX.JS EXAMPLE: groups</h1>

<div class="plexx" id="blocks" style="height:50em; width:50em; border:solid 0.1em #000000;"></div>

<nav id="blocks-debug-panel"></nav>

<script type="text/javascript" src="../../../framework/build/plexx.js"></script>

<script>
var myCanvas = new Plexx.DrawingArea({width: "50em", height: "50em", background: "#505050"});
var renderContext = new Plexx.RenderContext({id: "blocks", width: 1000, height: 1000});

var xDiff = 100;
var yDiff = 100;

var xMax = 10;
var yMax = 10;

var k = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

for(var y = 0; y < yMax; y++) {
    for (var x = 0; x < xMax; x++) {
        var group = new Plexx.Group({translation: [x*xDiff, y*yDiff], scalePoint: [0, 0], scale: [1, 1], rotationPoint: [0, 0],  rotation: 0});
        group.add(new Plexx.Rectangle({width: 20, height: 20, position: [0, 0], "colour": "green", translation: [0, 0], scalePoint: [0, 0], scale: [1, 1], rotationPoint: [0, 0],  rotation: 0}));
        group.add(new Plexx.Rectangle({width: 20, height: 20, position: [50, 50], "colour": "green", translation: [0, 0], scalePoint: [0, 0], scale: [1, 1], rotationPoint: [0, 0],  rotation: 0}));
        group.on("click", function () {
            console.log('over ' + k);
        });
        myCanvas.add(group);
    }
}
var group2 = new Plexx.Group({translation: [150, 150], scale: [1, 1], rotation: 0});
group2A = new Plexx.Rectangle({width: 100, height: 100, "position": [0, 0], "colour": "blue"});
group2B = new Plexx.Rectangle({width: 100, height: 100, "position": [50, 50], "colour": "yellow"});
group2.add(group2A);
group2.add(group2B);
group2.on("click", function () {
    console.log("group2 clicked");
});
group2.on("mousein", function () {
    group2A.setColour("black");
    group2B.setColour("black");
});
group2.on("mouseout", function () {
    group2A.setColour("blue");
    group2B.setColour("yellow");
});
myCanvas.add(group2);

/*

// Group "chair"
var chair = new Plexx.Group({translation: [0, -100], scale: [1, 1], rotation: 0});
chair.add(new Plexx.Rectangle({width: 10, "height": 100, "position": [90, 0], "colour": "green"}));
chair.add(new Plexx.Rectangle({width: 80, "height": 10, "position": [10, 80], "colour": "green"}));
chair.add(new Plexx.Rectangle({width: 100, "height": 10, "position": [0, 100], "colour": "green"}));
chair.add(new Plexx.Rectangle({width: 10, "height": 140, "position": [0, 110], "colour": "green"}));
chair.add(new Plexx.Rectangle({width: 10, height: 100, position: [0, 0], colour: "green"}));
chair.add(new Plexx.Text({text: "MERCURY", fontFamily: "Arial", fontSize: 12, position: [100, -100], colour: "red"}));

myCanvas.add(new Plexx.Rectangle({width: 10, "height": 100, "position": [90, 0], "colour": "green"}));
myCanvas.add(new Plexx.Rectangle({width: 80, "height": 10, "position": [10, 80], "colour": "green"}));
myCanvas.add(new Plexx.Rectangle({width: 100, "height": 10, "position": [0, 100], "colour": "green"}));
myCanvas.add(new Plexx.Rectangle({width: 10, "height": 140, "position": [0, 110], "colour": "green"}));
myCanvas.add(new Plexx.Rectangle({width: 10, height: 100, position: [0, 0], colour: "green"}));
myCanvas.add(new Plexx.Text({text: "MERCURY", fontFamily: "Arial", fontSize: 12, position: [100, -100], colour: "red"}));

var chairgroup = new Plexx.Group({translation: [10, 10], scale: [1, 1], rotation: 10, rotationPoint: [0, 0], scalePoint: [0, 0]});
var cloneChair = chair.clone();
cloneChair.setTranslation([10, 10]);
chairgroup.add(cloneChair);
myCanvas.add(chairgroup);

var cloneChair = chair.clone();
cloneChair.setTranslation([280, 100]);
myCanvas.add(cloneChair);

var cloneChair = chair.clone();
cloneChair.setTranslation([480, 100]);
cloneChair.setRotation(30, [480, 100]);
myCanvas.add(cloneChair);

var cloneChair = chair.clone();
cloneChair.setTranslation([680, 100]);
cloneChair.setRotation(30, [680, 100]);
cloneChair.setScale([1, 0.5], [680, 100]);
myCanvas.add(cloneChair);

var cloneChair = chair.clone();
cloneChair.setTranslation([880, 100]);
cloneChair.setRotation(30, [880, 100]);
cloneChair.setScale([0.5, 1.5], [880, 100]);
myCanvas.add(cloneChair);
*/

var debugPanel = new Plexx.DebugHelper("blocks-debug-panel", renderContext, myCanvas);
myCanvas.run(renderContext);
</script>

</body>
</html>
