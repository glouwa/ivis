<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Plexx.js example: Ellipse</title>
</head>

<body>
<h1>Plexx.js examples: Primitives - Ellipse</h1>

<hr/>
<table>
    <tr>
        <th></th>
        <th>Canvas2D</th>
        <th>SVG</th>
        <th>WebGL</th>
        <th>Description</th>
    </tr>
    <tr>
        <th>Default</th>
        <th>
            <div class="plexx" id="primitives-default-canvas" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-default-svg" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-default-webgl" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>create a ellipse with radius in x = 10 and radius in y = 5 at position (0, 0) </th>
    </tr>
    <tr>
        <th>Translation</th>
        <th>
            <div class="plexx" id="primitives-translation-canvas" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-translation-svg" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-translation-webgl" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>translate the ellipse to position (10,20)</th>
    </tr>
    <tr>
        <th>Scale</th>
        <th>
            <div class="plexx" id="primitives-scale-canvas" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-scale-svg" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-scale-webgl" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>scale the ellipse times 1/2 in x and times 3 in y</th>
    </tr>
    <tr>
        <th>Rotation</th>
        <th>
            <div class="plexx" id="primitives-rotation-canvas" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-rotation-svg" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>
            <div class="plexx" id="primitives-rotation-webgl" style="height:20em;width:20em;background: #000000" />
        </th>
        <th>rotate the ellipse -30 degrees</th>
    </tr>

</table>


<nav id="primitives-debug-panel"></nav>

<script type="text/javascript" src="../../../../framework/build/plexx.js"></script>
<script>
    // ---------------------------------------------------------------------
    // RenderContext
    // ---------------------------------------------------------------------

    // Default

    var myRenderContextDefaultCanvas2D = new Plexx.RenderContext({
        id: "primitives-default-canvas",
        renderType: Plexx.RenderType.CANVAS2D
    });

    var myRenderContextDefaultSVG = new Plexx.RenderContext({
        id: "primitives-default-svg",
        renderType: Plexx.RenderType.SVG
    });

    var myRenderContextDefaultWebGL = new Plexx.RenderContext({
        id: "primitives-default-webgl",
        renderType: Plexx.RenderType.WEBGL
    });

    // Translation

    var myRenderContextTranslationCanvas2D = new Plexx.RenderContext({
        id: "primitives-translation-canvas",
        renderType: Plexx.RenderType.CANVAS2D
    });

    var myRenderContextTranslationSVG = new Plexx.RenderContext({
        id: "primitives-translation-svg",
        renderType: Plexx.RenderType.SVG
    });

    var myRenderContextTranslationWebGL = new Plexx.RenderContext({
        id: "primitives-translation-webgl",
        renderType: Plexx.RenderType.WEBGL
    });

    // Scale

    var myRenderContextScaleCanvas2D = new Plexx.RenderContext({
        id: "primitives-scale-canvas",
        renderType: Plexx.RenderType.CANVAS2D
    });

    var myRenderContextScaleSVG = new Plexx.RenderContext({
        id: "primitives-scale-svg",
        renderType: Plexx.RenderType.SVG
    });

    var myRenderContextScaleWebGL = new Plexx.RenderContext({
        id: "primitives-scale-webgl",
        renderType: Plexx.RenderType.WEBGL
    });

    // Rotate

    var myRenderContextRotationCanvas2D = new Plexx.RenderContext({
        id: "primitives-scale-canvas",
        renderType: Plexx.RenderType.CANVAS2D
    });

    var myRenderContextRotationSVG = new Plexx.RenderContext({
        id: "primitives-scale-svg",
        renderType: Plexx.RenderType.SVG
    });

    var myRenderContextRotationWebGL = new Plexx.RenderContext({
        id: "primitives-scale-webgl",
        renderType: Plexx.RenderType.WEBGL
    });

    // ---------------------------------------------------------------------
    // SceneGraph
    // ---------------------------------------------------------------------

    var primitiveColour = "green";
    var pointColour = "red";
    var textColour = "#000000";

    var myDrawingArea = new Plexx.DrawingArea({
        width: 100,
        height: 100,
        align: "xMidYMid",
        background: "#ffffff"
    });

    var myDefaultText = new Plexx.Text({
        text: "Default",
        fontFamily: "DejaVu Sans Mono",
        fontSize: 4,
        colour: textColour,
        textAlignmentVertical: "middle",
        textAlignmentHorizontal: "center",
    });

    var myGroup = new Plexx.Group({translation: [15, 15]});

    // x axis

    var xAxis = new Plexx.Group({});

    xAxis.add(new Plexx.Line({
        points: [-8, 0, 75, 0],
        width: 1,
        type: Constants.LineType.Default,
        colour: "black",
        startArrow: false,
        endArrow: true,
        arrowScale: 1
    }));

    var xAxisText = myDefaultText.clone();

    xAxisText.setText("x");
    xAxisText.setFontSize(6);
    xAxisText.setPosition([72, -5]);

    xAxis.add(xAxisText);

    var xAxisNumberText = null;

    for (var i = 10; i <= 60; i+=10) {
        xAxis.add(new Plexx.Line({
            points: [i, -2, i, 62],
            width: 0.5,
            type: Constants.LineType.Default,
            colour: "black",
        }));

        xAxisNumberText = myDefaultText.clone();
        xAxisNumberText.setText(String(i));
        xAxisNumberText.setPosition([i, -6]);
        xAxis.add(xAxisNumberText);
    }

    // y axis

    var yAxis = new Plexx.Group({});

    yAxis.add(new Plexx.Line({
        points: [0, -8, 0, 75],
        width: 1,
        type: Constants.LineType.Default,
        colour: "black",
        startArrow: false,
        endArrow: true,
        arrowScale: 1
    }));

    var yAxisText = myDefaultText.clone();

    yAxisText.setText("y");
    yAxisText.setFontSize(6);
    yAxisText.setPosition([-5, 72]);

    yAxis.add(yAxisText);

    var yAxisNumberText = null;

    for (var i = 10; i <= 60; i+=10) {
        yAxis.add(new Plexx.Line({
            points: [-2, i, 62, i],
            width: 0.5,
            type: Constants.LineType.Default,
            colour: "black",
        }));

        yAxisNumberText = myDefaultText.clone();
        yAxisNumberText.setText(String(i));
        yAxisNumberText.setPosition([-7, i]);
        yAxis.add(yAxisNumberText);

    }

    // Ellipse

    var ellipse = new Plexx.Ellipse({
        radiusX: 10,
        radiusY: 5,
        position: [0, 0],
        colour: primitiveColour
    });

    var ellipsePoint = new Plexx.Circle({
        radius: 2,
        position: [0, 0],
        colour: pointColour
    });

    myGroup.add(xAxis);
    myGroup.add(yAxis);
    myGroup.add(ellipse);
    myGroup.add(ellipsePoint);

    myDrawingArea.add(myGroup);

    // ---------------------------------------------------------------------
    // Rendering
    // ---------------------------------------------------------------------

    myDrawingArea.renderSingleFrame(myRenderContextDefaultCanvas2D);
    myDrawingArea.renderSingleFrame(myRenderContextDefaultSVG);
    myDrawingArea.renderSingleFrame(myRenderContextDefaultWebGL);

    ellipse.setTranslation([10, 20]);
    ellipsePoint.setTranslation([10, 20]);

    myDrawingArea.renderSingleFrame(myRenderContextTranslationCanvas2D);
    myDrawingArea.renderSingleFrame(myRenderContextTranslationSVG);
    myDrawingArea.renderSingleFrame(myRenderContextTranslationWebGL);

    ellipse.setScale([(1/2), 3]);

    myDrawingArea.renderSingleFrame(myRenderContextScaleCanvas2D);
    myDrawingArea.renderSingleFrame(myRenderContextScaleSVG);
    myDrawingArea.renderSingleFrame(myRenderContextScaleWebGL);

    ellipse.setRotation(-30);

    myDrawingArea.renderSingleFrame(myRenderContextRotationCanvas2D);
    myDrawingArea.renderSingleFrame(myRenderContextRotationSVG);
    myDrawingArea.renderSingleFrame(myRenderContextRotationWebGL);
</script>
</body>
</html>
